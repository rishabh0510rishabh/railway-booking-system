{% extends 'base.html' %}

{% block content %}
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4>Ticket Details</h4>
      <a href="{{ url_for('download_ticket', pnr=booking.pnr_number) }}" class="btn btn-success">Download PDF</a>
    </div>
    <div class="card-body">
      <p><strong>PNR Number:</strong> {{ booking.pnr_number }}</p>
      <p><strong>Status:</strong> <span class="badge 
      {% if booking.status == 'Confirmed' %}
        bg-success
      {% elif booking.status == 'RAC' %}
        bg-warning text-dark
      {% else %}
        bg-info
      {% endif %}
      ">{{ booking.status }}</span></p>
      <hr>
      <p><strong>Passenger:</strong> {{ booking.passenger_name }} ({{ booking.passenger_age }} years)</p>
      <p><strong>Train:</strong> {{ booking.train.train_name }}</p>
      <p><strong>Route:</strong> {{ booking.train.source }} to {{ booking.train.destination }}</p>
      <p><strong>Departure:</strong> {{ booking.train.departure_time }}</p>
      <p><strong>Seat Class:</strong> {{ booking.seat_class }}</p>
      <p><strong>Berth/Seat:</strong> {{ booking.seat_number or 'N/A' }}</p>
      <p><strong>Fare:</strong> <span class="fw-bold text-success">${{ booking.fare|round(2) }}</span></p>
    </div>
  </div>
{% endblock %}
